# linux workqueue（linux 6.10）

Workqueue 是基于内核线程（kernel thread）的实现，实际上是由内核线程执行的工作项（work item）。这类似于用户态线程模型中的工作线程。

- Workqueue 是一种内核态的任务延迟机制，本质上依赖于内核线程进行异步任务处理。

- 与用户态线程类似，workqueue 支持并发执行任务，但由于运行在内核态，适用于处理内核模块和驱动中的异步任务。

- 如果任务仅限于内核空间，使用 workqueue；如果任务需要与用户态交互，使用用户态线程。

1. make编译，加载模块insmod demoqueue.ko
2. dmesg -w监控输出
4. 卸载模块rmmod demoqueue


## tasklet应用场景

- 优先级较低，受内核线程调度器控制。

- 更适合耗时较长或需要等待的任务。

- 典型应用：文件系统、日志处理。


## 性能

- 开销稍大，因为需要线程调度和上下文切换。

- 支持多线程并发处理，不同的工作项可以分发到不同的 CPU 核心，提高并发性能。